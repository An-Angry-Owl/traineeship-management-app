create table committee (id bigint not null, committee_name varchar(255) not null, primary key (id)) engine=InnoDB;
create table companies (id bigint not null, company_name varchar(255) not null, location varchar(255), primary key (id)) engine=InnoDB;
create table professors (id bigint not null, full_name varchar(255), interests varchar(255), primary key (id)) engine=InnoDB;
create table students (id bigint not null, full_name varchar(255) not null, interests varchar(255), preferred_location varchar(255), skills varchar(255), university_id varchar(255), primary key (id)) engine=InnoDB;
create table users (enabled bit not null, created_at datetime(6) not null, id bigint not null auto_increment, updated_at datetime(6) not null, username varchar(50) not null, password varchar(255) not null, role enum ('COMMITTEE','COMPANY','PROFESSOR','STUDENT') not null, primary key (id)) engine=InnoDB;
alter table users add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username);
alter table committee add constraint FK4frax27n7b0c4lijnos8fgr0n foreign key (id) references users (id);
alter table companies add constraint FK75nyyir60ukpfq5v0v2jl0fri foreign key (id) references users (id);
alter table professors add constraint FK9c645bbvpbobav9fvwll31g4s foreign key (id) references users (id);
alter table students add constraint FK7xqmtv7r2eb5axni3jm0a80su foreign key (id) references users (id);
create table committee (id bigint not null, committee_name varchar(255) not null, primary key (id)) engine=InnoDB;
create table companies (id bigint not null, company_name varchar(255) not null, location varchar(255), primary key (id)) engine=InnoDB;
create table evaluations (comp_effectiveness_rating integer, comp_efficiency_rating integer, comp_motivation_rating integer, prof_effectiveness_rating integer, prof_efficiency_rating integer, prof_motivation_rating integer, id bigint not null auto_increment, traineeship_position_id bigint not null, final_mark enum ('FAIL','PASS','PENDING'), primary key (id)) engine=InnoDB;
create table logbook_entries (entry_date datetime(6) not null, id bigint not null auto_increment, position_id bigint not null, student_id bigint not null, content TEXT, primary key (id)) engine=InnoDB;
create table professors (id bigint not null, full_name varchar(255), interests varchar(255), primary key (id)) engine=InnoDB;
create table students (id bigint not null, full_name varchar(255) not null, interests varchar(255), preferred_location varchar(255), skills varchar(255), university_id varchar(255), primary key (id)) engine=InnoDB;
create table traineeship_positions (end_date date, start_date date, company_id bigint not null, id bigint not null auto_increment, professor_id bigint, student_id bigint, description TEXT, required_skills TEXT, topics TEXT, status enum ('ASSIGNED','COMPLETED','IN_PROGRESS','OPEN'), primary key (id)) engine=InnoDB;
create table users (enabled bit not null, created_at datetime(6) not null, id bigint not null auto_increment, updated_at datetime(6) not null, username varchar(50) not null, password varchar(255) not null, role enum ('COMMITTEE','COMPANY','PROFESSOR','STUDENT') not null, primary key (id)) engine=InnoDB;
alter table evaluations add constraint UKer0b7cyqcle10h944qxnqsn6n unique (traineeship_position_id);
alter table users add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username);
alter table committee add constraint FK4frax27n7b0c4lijnos8fgr0n foreign key (id) references users (id);
alter table companies add constraint FK75nyyir60ukpfq5v0v2jl0fri foreign key (id) references users (id);
alter table evaluations add constraint FKjfg2ljdel0aag3eeavkhfylx4 foreign key (traineeship_position_id) references traineeship_positions (id);
alter table logbook_entries add constraint FKj2axtdykgwmkvu10xwtdkkntf foreign key (position_id) references traineeship_positions (id);
alter table logbook_entries add constraint FKe6it8kqegu94kqw3sj3nneujj foreign key (student_id) references students (id);
alter table professors add constraint FK9c645bbvpbobav9fvwll31g4s foreign key (id) references users (id);
alter table students add constraint FK7xqmtv7r2eb5axni3jm0a80su foreign key (id) references users (id);
alter table traineeship_positions add constraint FK8ftvvlbpokdox2gssd2pb8xg7 foreign key (company_id) references companies (id);
alter table traineeship_positions add constraint FK3p5adkokgdioixdo3mrci5tol foreign key (professor_id) references professors (id);
alter table traineeship_positions add constraint FKkq36ou0s44n331aro3y7rljxg foreign key (student_id) references students (id);
create table committee (id bigint not null, committee_name varchar(255) not null, primary key (id)) engine=InnoDB;
create table companies (id bigint not null, company_name varchar(255) not null, location varchar(255), primary key (id)) engine=InnoDB;
create table evaluations (comp_effectiveness_rating integer, comp_efficiency_rating integer, comp_motivation_rating integer, prof_effectiveness_rating integer, prof_efficiency_rating integer, prof_motivation_rating integer, id bigint not null auto_increment, traineeship_position_id bigint not null, final_mark enum ('FAIL','PASS','PENDING'), primary key (id)) engine=InnoDB;
create table logbook_entries (entry_date datetime(6) not null, id bigint not null auto_increment, position_id bigint not null, student_id bigint not null, content TEXT, primary key (id)) engine=InnoDB;
create table professors (id bigint not null, full_name varchar(255), interests varchar(255), primary key (id)) engine=InnoDB;
create table students (id bigint not null, full_name varchar(255) not null, interests varchar(255), preferred_location varchar(255), skills varchar(255), university_id varchar(255), primary key (id)) engine=InnoDB;
create table traineeship_applications (application_date datetime(6) not null, id bigint not null auto_increment, position_id bigint not null, student_id bigint not null, status enum ('ACCEPTED','PENDING','REJECTED') not null, primary key (id)) engine=InnoDB;
create table traineeship_positions (end_date date, start_date date, company_id bigint not null, id bigint not null auto_increment, professor_id bigint, student_id bigint, description TEXT, required_skills TEXT, topics TEXT, status enum ('ASSIGNED','COMPLETED','IN_PROGRESS','OPEN'), primary key (id)) engine=InnoDB;
create table users (enabled bit not null, created_at datetime(6) not null, id bigint not null auto_increment, updated_at datetime(6) not null, username varchar(50) not null, password varchar(255) not null, role enum ('COMMITTEE','COMPANY','PROFESSOR','STUDENT') not null, primary key (id)) engine=InnoDB;
alter table evaluations add constraint UKer0b7cyqcle10h944qxnqsn6n unique (traineeship_position_id);
alter table traineeship_positions add constraint UKtpfh1cx4n4mkkfukjh9grjqix unique (student_id);
alter table users add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username);
alter table committee add constraint FK4frax27n7b0c4lijnos8fgr0n foreign key (id) references users (id);
alter table companies add constraint FK75nyyir60ukpfq5v0v2jl0fri foreign key (id) references users (id);
alter table evaluations add constraint FKjfg2ljdel0aag3eeavkhfylx4 foreign key (traineeship_position_id) references traineeship_positions (id);
alter table logbook_entries add constraint FKj2axtdykgwmkvu10xwtdkkntf foreign key (position_id) references traineeship_positions (id);
alter table logbook_entries add constraint FKe6it8kqegu94kqw3sj3nneujj foreign key (student_id) references students (id);
alter table professors add constraint FK9c645bbvpbobav9fvwll31g4s foreign key (id) references users (id);
alter table students add constraint FK7xqmtv7r2eb5axni3jm0a80su foreign key (id) references users (id);
alter table traineeship_applications add constraint FKk1jgm0u1emhfpuk1wn08mjp04 foreign key (position_id) references traineeship_positions (id);
alter table traineeship_applications add constraint FKht2cmj3vilt5i8rhrv40758r7 foreign key (student_id) references students (id);
alter table traineeship_positions add constraint FK8ftvvlbpokdox2gssd2pb8xg7 foreign key (company_id) references companies (id);
alter table traineeship_positions add constraint FK3p5adkokgdioixdo3mrci5tol foreign key (professor_id) references professors (id);
alter table traineeship_positions add constraint FKkq36ou0s44n331aro3y7rljxg foreign key (student_id) references students (id);
